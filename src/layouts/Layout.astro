---
/*
  Layout.astro - The main template for all pages

  This file defines the structure that wraps every page:
  - The <head> section (title, meta tags, styles)
  - The navigation menu
  - The footer

  Individual pages just provide the content in the middle.
*/

// This "props" line lets each page pass in its own title
const { title } = Astro.props;

// Get the base URL (e.g., "/btcspeakeasy" on GitHub Pages, or "" locally)
const base = import.meta.env.BASE_URL;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Bitcoin Speakeasy - Advanced 2-day workshops for Bitcoin custody, multi-sig solutions, and succession planning." />
    <title>{title} | Bitcoin Speakeasy</title>
    <link rel="stylesheet" href={`${base}styles/global.css`} />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="nav">
      <div class="container nav-container">
        <a href={`${base}`} class="nav-logo">Bitcoin Speakeasy</a>
        <button class="nav-toggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <ul class="nav-links">
          <li><a href={`${base}`}>Home</a></li>
          <li><a href={`${base}program`}>Program</a></li>
          <li><a href={`${base}experts`}>Experts</a></li>
          <li><a href={`${base}schedule`}>Schedule</a></li>
          <li><a href={`${base}contact`}>Contact</a></li>
        </ul>
      </div>
    </nav>

    <!-- Main content (each page provides this) -->
    <main>
      <slot />
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p class="footer-text">Bitcoin Speakeasy</p>
        <p class="footer-partners">Presented by [Partner 1] & [Partner 2]</p>
        <p class="footer-email"><a href="mailto:contact@btcspeakeasy.com">contact@btcspeakeasy.com</a></p>
        <p class="footer-copyright">&copy; {new Date().getFullYear()} All rights reserved.</p>
      </div>
    </footer>

    <style>
      /* Navigation styles */
      .nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background-color: var(--color-background);
        border-bottom: 1px solid var(--color-border);
        z-index: 1000;
        padding: 1rem 0;
      }

      .nav-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-logo {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--color-text);
      }

      .nav-logo:hover {
        color: var(--color-accent);
      }

      .nav-links {
        display: flex;
        list-style: none;
        gap: 2rem;
      }

      .nav-links a {
        color: var(--color-text);
        font-weight: 500;
        padding: 0.5rem 0;
        position: relative;
      }

      .nav-links a:hover {
        color: var(--color-accent);
      }

      .nav-toggle {
        display: none;
        flex-direction: column;
        gap: 4px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.5rem;
      }

      .nav-toggle span {
        display: block;
        width: 24px;
        height: 2px;
        background-color: var(--color-text);
      }

      /* Footer styles */
      .footer {
        background-color: var(--color-surface);
        padding: 3rem 0;
        text-align: center;
        margin-top: auto;
      }

      .footer-text {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .footer-partners {
        color: var(--color-muted);
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
      }

      .footer-email {
        margin-bottom: 0.5rem;
      }

      .footer-email a {
        color: var(--color-accent);
        font-size: 0.875rem;
      }

      .footer-copyright {
        color: var(--color-muted);
        font-size: 0.875rem;
      }

      /* Push footer to bottom */
      body {
        display: flex;
        flex-direction: column;
      }

      main {
        flex: 1;
        padding-top: 80px; /* Space for fixed nav */
      }

      /* Mobile responsive */
      @media (max-width: 768px) {
        .nav-toggle {
          display: flex;
        }

        .nav-links {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background-color: var(--color-background);
          flex-direction: column;
          padding: 1rem;
          gap: 0;
          border-bottom: 1px solid var(--color-border);
        }

        .nav-links.active {
          display: flex;
        }

        .nav-links li {
          padding: 0.75rem 0;
          border-bottom: 1px solid var(--color-border);
        }

        .nav-links li:last-child {
          border-bottom: none;
        }
      }
    </style>

    <script>
      // Mobile menu toggle
      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.querySelector('.nav-links');

      navToggle?.addEventListener('click', () => {
        navLinks?.classList.toggle('active');
      });
    </script>
  </body>
</html>
